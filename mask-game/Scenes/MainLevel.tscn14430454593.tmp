[gd_scene format=3 uid="uid://bx4gdl8xphuli"]

[ext_resource type="Script" uid="uid://tf7a2weog7fv" path="res://Scenes/MainLevel.gd" id="1_8vsrk"]
[ext_resource type="Script" uid="uid://bt4k48uxepvci" path="res://Npc/NpcPathController.gd" id="3_c77c4"]
[ext_resource type="PackedScene" path="res://Scenes/Register_Scene.tscn" id="3_o15vh"]
[ext_resource type="PackedScene" uid="uid://6axwf1hioidv" path="res://Npc/npc.tscn" id="4_o15vh"]

[sub_resource type="Sky" id="Sky_c77c4"]

[sub_resource type="Environment" id="Environment_c77c4"]
background_mode = 2
sky = SubResource("Sky_c77c4")
ambient_light_source = 3
ambient_light_color = Color(0.8047426, 0.80474263, 0.8047426, 1)

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_c77c4"]
dof_blur_far_distance = 15.2

[sub_resource type="Compositor" id="Compositor_c77c4"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_c77c4"]

[sub_resource type="BoxShape3D" id="BoxShape3D_o15vh"]
size = Vector3(47.36786, 1.4633789, 35.569702)

[sub_resource type="PlaneMesh" id="PlaneMesh_o15vh"]

[sub_resource type="BoxShape3D" id="BoxShape3D_c77c4"]
size = Vector3(57.776184, 15.476379, 3.7717857)

[sub_resource type="BoxMesh" id="BoxMesh_c77c4"]

[sub_resource type="Curve3D" id="Curve3D_8vsrk"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0.29, 0, 0, 1.5532491, 0.11574501, 0.72944856, 0, 0, 0, 0.29, 0, 0, -1.6666596, 0.06730217, 0.88572955, 0, 0, 0, 0, 0, 0, -5.430382, 0, 0.93449664),
"tilts": PackedFloat32Array(0, 0, 0)
}
point_count = 3

[node name="SceneRoot" type="Node3D" unique_id=612120488]
script = ExtResource("1_8vsrk")

[node name="WorldEnvironment" type="WorldEnvironment" parent="." unique_id=1405096946]
environment = SubResource("Environment_c77c4")
camera_attributes = SubResource("CameraAttributesPractical_c77c4")
compositor = SubResource("Compositor_c77c4")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="." unique_id=118050618]
transform = Transform3D(0.97373015, 0.16639468, -0.15544268, 0, 0.6826491, 0.7307463, 0.22770512, -0.71154976, 0.664716, 0, 8.7637825, 0)

[node name="ItemSpawnPoint" type="Node3D" parent="." unique_id=1640993493]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.9046297, 0.80581224, -0.88909507)

[node name="RegisterNode" parent="." unique_id=152637685 instance=ExtResource("3_o15vh")]
transform = Transform3D(-3.5, 0, -3.059797e-07, 0, 3.5, 0, 3.059797e-07, 0, -3.5, -0.08876872, 0, -1.9674461)

[node name="LevelGeometry" type="Node3D" parent="." unique_id=1264584538]

[node name="Floor" type="StaticBody3D" parent="LevelGeometry" unique_id=924200972]
physics_material_override = SubResource("PhysicsMaterial_c77c4")

[node name="CollisionShape3D" type="CollisionShape3D" parent="LevelGeometry/Floor" unique_id=1305443037]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.39212036, -0.70532227, -10.559387)
shape = SubResource("BoxShape3D_o15vh")

[node name="MeshInstance3D" type="MeshInstance3D" parent="LevelGeometry/Floor" unique_id=2007910246]
transform = Transform3D(23.835112, 0, 0, 0, 1, 0, 0, 0, 17.95112, -0.018713474, 0, -10.616034)
mesh = SubResource("PlaneMesh_o15vh")

[node name="Celling" type="StaticBody3D" parent="LevelGeometry" unique_id=343143157]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 14.568054, 0)
physics_material_override = SubResource("PhysicsMaterial_c77c4")

[node name="CollisionShape3D" type="CollisionShape3D" parent="LevelGeometry/Celling" unique_id=1704344010]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.39212036, -0.70532227, -10.559387)
shape = SubResource("BoxShape3D_o15vh")

[node name="MeshInstance3D" type="MeshInstance3D" parent="LevelGeometry/Celling" unique_id=1352579652]
transform = Transform3D(23.835112, 0, 0, 0, -1, 1.5693367e-06, 0, -8.742278e-08, -17.95112, -0.018713474, 0, -10.616034)
mesh = SubResource("PlaneMesh_o15vh")

[node name="OmniLight3D" type="OmniLight3D" parent="LevelGeometry/Celling" unique_id=792304364]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.6511425, -3.7301664, -3.8680842)
omni_range = 59.284
omni_attenuation = 0.387

[node name="SideWall" type="StaticBody3D" parent="LevelGeometry" unique_id=170472512]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -32.753723, 0, -21.043509)
physics_material_override = SubResource("PhysicsMaterial_c77c4")

[node name="CollisionShape3D" type="CollisionShape3D" parent="LevelGeometry/SideWall" unique_id=1377185405]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.8939514, 7.2381897, -7.7577972)
shape = SubResource("BoxShape3D_c77c4")

[node name="MeshInstance3D" type="MeshInstance3D" parent="LevelGeometry/SideWall" unique_id=416656451]
transform = Transform3D(56.86015, 0, 0, 0, 17.382858, 0, 0, 0, 3.5301569, 1.6580405, 5.871557, -7.5355616)
mesh = SubResource("BoxMesh_c77c4")

[node name="BackWall2" type="StaticBody3D" parent="LevelGeometry/SideWall" unique_id=1604743911]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, 25.391949, 0, -32.753723)
physics_material_override = SubResource("PhysicsMaterial_c77c4")

[node name="CollisionShape3D" type="CollisionShape3D" parent="LevelGeometry/SideWall/BackWall2" unique_id=950859314]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.6604614, 6.8377075, -7.7577963)
shape = SubResource("BoxShape3D_c77c4")

[node name="MeshInstance3D" type="MeshInstance3D" parent="LevelGeometry/SideWall/BackWall2" unique_id=996483958]
transform = Transform3D(56.86015, 0, 0, 0, 17.382858, 0, 0, 0, 3.5301569, 1.6580405, 5.871557, 4.1808815)
mesh = SubResource("BoxMesh_c77c4")

[node name="SideWall2" type="StaticBody3D" parent="LevelGeometry" unique_id=409069966]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, 28.916042, -0.051570892, -21.043509)
physics_material_override = SubResource("PhysicsMaterial_c77c4")

[node name="CollisionShape3D" type="CollisionShape3D" parent="LevelGeometry/SideWall2" unique_id=472066471]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.8939514, 7.2381897, -7.7577972)
shape = SubResource("BoxShape3D_c77c4")

[node name="MeshInstance3D" type="MeshInstance3D" parent="LevelGeometry/SideWall2" unique_id=225910712]
transform = Transform3D(56.86015, 0, 0, 0, 17.382858, 0, 0, 0, 3.5301569, 0.24494553, 5.871557, -7.5355606)
mesh = SubResource("BoxMesh_c77c4")

[node name="BackWall" type="StaticBody3D" parent="LevelGeometry" unique_id=1633618847]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -18.718487)
physics_material_override = SubResource("PhysicsMaterial_c77c4")

[node name="CollisionShape3D" type="CollisionShape3D" parent="LevelGeometry/BackWall" unique_id=965236474]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.6604614, 6.8377075, -7.7577963)
shape = SubResource("BoxShape3D_c77c4")

[node name="MeshInstance3D" type="MeshInstance3D" parent="LevelGeometry/BackWall" unique_id=251650280]
transform = Transform3D(56.86015, 0, 0, 0, 17.382858, 0, 0, 0, 3.5301569, 1.6580405, 5.871557, -7.5355616)
mesh = SubResource("BoxMesh_c77c4")

[node name="Path3D" type="Path3D" parent="." unique_id=508243083 node_paths=PackedStringArray("path", "player")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.2583082, 0.059798777, -4.2344236)
curve = SubResource("Curve3D_8vsrk")
debug_custom_color = Color(0.79490966, 0, 0.18123418, 1)
script = ExtResource("3_c77c4")
npc_scene = ExtResource("4_o15vh")
path = NodePath(".")
player = NodePath("../PlayersPos")
debug_auto_move = true

[node name="PathFollow3D" type="PathFollow3D" parent="Path3D" unique_id=981305559]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 0.99999994, 0, 1, 0, -4.371139e-08, 1.5532491, 0.11574501, 0.72944856)

[node name="Stops" type="Node3D" parent="Path3D" unique_id=1743729937]

[node name="StopPoint1" type="Node3D" parent="Path3D/Stops" unique_id=555100533]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.5730255, 0, 0.7648039)

[node name="StopPoint2" type="Node3D" parent="Path3D/Stops" unique_id=866726309]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.8477373, 0, 0.91059995)

[node name="StopPoint3" type="Node3D" parent="Path3D/Stops" unique_id=9752526]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.400858, 0, 0.91059995)

[node name="PlayersPos" type="Node3D" parent="." unique_id=1668226425]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.4522238, 1.5093442, -0.8454091)

[editable path="RegisterNode"]
